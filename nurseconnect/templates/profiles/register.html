{% extends "base.html" %}
{% load i18n static core_tags wagtailsettings_tags %}
{% get_settings %}

{% block content %}
    <h1 class="heading heading--profiles">{% trans "Welcome. Let's get you signed up." %}</h1>

    <h4 class="heading heading--subtitle">
        {% trans "Personal Information" %}<br/>
    </h4>
    <div class="profiles">
        <form method="post" action="{% url "molo.profiles:user_register" %}" class="profiles__form">
            {% csrf_token %}
            <div class="FormGroup FormGroup--padded">
                <div class="FormField FormField--center FormField--bordered">
                    <label for="id_username">{% trans "Mobile Number" %}</label>
                    {{ form.username.errors }}
                    {{ form.username }}
                    <span class="input-hint">({% trans "eg. 0821234567" %})</span>
                </div>

                <div class="FormField FormField--center FormField--bordered">
                    <label for="id_password">{% trans "Password" %}</label>
                    {{ form.password.errors }}
                    {{ form.password }}
                    <span class="input-hint">({% trans "Enter password" %})</span>
                </div>

                {% if settings.profiles.UserProfilesSettings.show_mobile_number_field %}
                    <div class="FormField FormField--center FormField--bordered">
                        <label for="mobile_number">{% trans "Enter your mobile number" %}</label>
                        {{ form.mobile_number.errors }}
                        {{ form.mobile_number }}
                        <span class="input-hint">{% trans "(e.g. +27900000013)" %}</span>
                    </div>
                {% endif %}

                {% if settings.profiles.UserProfilesSettings.show_email_field %}
                    <div class="FormField FormField--center FormField--bordered">
                        <label for="id_email">{% trans "Enter your email addresss" %}</label>
                        {{ form.email.errors }}
                        {{ form.email }}
                        <span class="input-hint">{% trans "(e.g. example@foo.com)" %}</span>
                    </div>
                {% endif %}

                <div class="FormField FormField--center FormField--bordered">
                    {% if form.terms_and_conditions.errors %}
                        <span class="error">
          {% trans "Please accept the T&amp;Cs in order to complete the registration" %}
        </span>
                    {% endif %}
                    {{ form.terms_and_conditions }}
                    <label for="id_terms_and_conditions"
                           class="profiles__terms">{% trans "I accept the Terms and Conditions" %}</label>
                </div>

                <input type="submit" value="{% trans "Register" %}"/>
                <input type="hidden" name="next" value="{% url "molo.profiles:registration_done" %}"/>
            </div>
        </form>
    </div>
{% endblock %}
